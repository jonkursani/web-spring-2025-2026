<html th:replace="~{shared/layout::layoutFragment('Home', ~{::section}, null, null)}"
      xmlns:sec="http://www.w3.org/1999/xhtml">

<section>
    <h1>Home</h1>
    <p>This is a home page</p>

    <hr>

    <p>Username: <span th:text="${#authentication.name}"></span></p>
    <p>Username: <span sec:authentication="principal.username"></span></p>
    <!-- Authorities = Rolet e userit -->
    <p>Roles: <span th:text="${#authentication.authorities}"></span></p>
    <p>Roles: <span sec:authentication="principal.authorities"></span></p>

    <p sec:authorize="hasRole('ADMIN') or hasRole('MANAGER')">
        <a th:href="@{/users/add}">Add user</a>
    </p>

    <hr>

    <!--<p sec:authorize="hasRole('MANAGER')">-->
    <p th:if="${#authorization.expression('hasRole(''MANAGER'') or hasRole(''ADMIN'')')}">
        <a th:href="@{/leaders}">Leaders</a> (Only managers can access)
    </p>

    <p sec:authorize="hasRole('ADMIN')">
        <!--<p th:if="${#authorization.expression('hasRole(''ADMIN'')')}">-->
        <a th:href="@{/systems}">Systems</a> (Only admins can access)
    </p>

<!--    <form th:action="@{/logout}" method="post">-->
<!--        <button type="submit">Logout</button>-->
<!--    </form>-->
</section>

</html>